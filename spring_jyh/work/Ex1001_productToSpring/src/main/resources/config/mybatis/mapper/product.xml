<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="p">
	
	<!-- 카테고리 별 상품 목록 조회 -->
	<select id="product_list" resultType="pro" parameterType="String">
		SELECT * FROM product WHERE category = #{category}
	</select>
	
	<!-- 상품 추가를 위한 쿼리문 -->
	<insert id="product_insert" parameterType="pro">
		INSERT INTO product VALUES (seq_pro_idx.nextVal, #{category}, #{p_num}, #{p_name}, #{p_company}, #{p_price}, #{p_saleprice}, #{p_image_s}, #{p_image_l}, #{p_content}, sysdate)
	</insert>
	
	<!-- 상세보기를 위한 상품 조회 -->
	<select id="product_one" resultType="pro" parameterType="int">
		SELECT * FROM product WHERE idx = #{idx}
	</select>
	
	<!-- 상품 수정을 위한 쿼리 -->
	<update id="product_update" parameterType="pro">
		UPDATE product SET p_price = #{p_price}, p_saleprice = #{p_saleprice}, p_content = #{p_content},p_image_s = #{p_image_s}, p_image_l = #{p_image_l} WHERE idx = #{idx}
	</update>
	
</mapper>
